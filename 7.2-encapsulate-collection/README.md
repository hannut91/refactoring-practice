# 7.2 컬렉션 캡슐화하기 (Encapsulate Collection)

컬렉션을 캡슐화하여 접근과 변경에 대해서 원하는대로 만들 수 있다.

## 언제 해야 하는가?

* 컬렉션에 직접 접근가능하여 원본 컬렉션에 대해서 변경할 수 없도록 하고 싶을 때
* 컬렉션에 접근할 때 항상 복사본을 반환하도록 하여 캡슐화된 원복 컬렉션에 아무런 영향을 줄 수 없도록 하고 싶을 때

## 어떻게 해야 하는가?

1. 아직 컬렉션을 캡슐화하지 않았다면 변수 캡슐화하기부터 한다.
2. 컬렉션에 원소를 추가/제거하는 함수를 추가한다.
3. 정적 검사를 수행한다.
4. 컬렉션을 참조하는 부분을 모두 찾는다. 컬렉션의 변경자를 호출하는 코드가 모두 앞에서 추가한 추가/제거 함수를 호출하도록 수정한다. 하나씩 수정할 때마다 테스트한다.
5. 컬렉션 게터를 수정해서 원본 내용을 수정할 수 없는 읽기전용 프락시나 복제본을 반환하게 한다.
6. 테스트한다.

## Sources

* https://refactoring.com/catalog/encapsulateCollection.html
